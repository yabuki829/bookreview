
{% extends 'base.html' %} 
{% load amazon_links %}
{% block title %}マイページ{% endblock %}
{% block mata %}
  <meta name="description" content="ディスクリプション　テスト">
  <meta name="keywords" content="test,テスト,キーワード">
  <meta name="author" content="test taro">
{% endblock %}

{% load static %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/book.css' %}">
{% endblock %}
{% block content %}

<div class="  bg-white ">


  {% comment %} 案2 {% endcomment %}
  <div class="flex flex-col items-center md:w-2/3  mx-3 md:mx-auto">
    <img src="{{ profile.image.url }}" alt="Profile Image" class="w-32 h-32 md:w-48 md:h-48 object-cover border rounded-full my-8">
    <h2 class="text-xl font-bold">{{ profile.name }}</h2>
    <p class="mt-2 mx-10">{{ profile.bio }}</p>
  </div>

  <br>
 
  
  <div class="flex">
    <button id="next-books-btn" class="w-full font-bold bg-gray-700 text-white h-8 " onclick="showSection('next-books', this)">ツギヨム</button>
    <button id="read-books-btn" class="w-full font-bold bg-gray-200 border-l border-r border-gray-300" onclick="showSection('read-books', this)">読んだ本</button>
    <button id="blog-btn" class="w-full font-bold bg-gray-200 " onclick="showSection('blog-content', this)">Note</button>
  </div>

  <div id="next-books" class="content-section">
    {% comment %} <h3 class="text-xl md:text-3xl  font-bold text-white pl-2 bg-gray-700">ツギヨム</h3> {% endcomment %}
    <div class="bg-gray-800 p-4 min-h-screen"">
      <div class="bg-gray-700 p-2 mx-auto px-4">
        <div class="grid grid-cols-4 md:grid-cols-4 lg:grid-cols-8 gap-4 mx-auto">
          {% for next in next_books %}
            <a class="image-container relative  w-full " href="{% url 'book_detail' next.book.id %}">
              {% if next.book.image %}
                <img class="object-cover " src="{{ next.book.image.url }}" alt="{{ next.book.title }}">
              {% else %}
                <img class="w-32 object-cover border-2" src="https://images-na.ssl-images-amazon.com/images/P/{{  next.book.isbn|isbn13_to_isbn10 }}.TZZZZZZZ.jpg" alt="">
              {% endif %}
              <div class="text-overlay absolute top-1 left-0">
                <h1 class="rounded-r bg-blue-400 w-8 text-center text-white font-bold ">{{ forloop.counter }}</h1>
              </div>
          
            </a>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
 

  <div id="read-books" class="content-section" style="display:none;">
    {% comment %} <h3 class="text-xl md:text-3xl  font-bold text-white pl-2 bg-gray-700">読んだ本</h3> {% endcomment %}
   
    <div class="bg-gray-800 p-4 min-h-screen">
      <div class="bg-gray-700 p-2 mx-auto px-4">
        <div class="grid grid-cols-4 md:grid-cols-4 lg:grid-cols-8 gap-4 mx-auto">
          {% for review in reviews %}
          <a class="image-container relative  w-full" href="{% url 'book_detail' review.book.id %}">
            {% if review.book.image %}
              <img class="object-cover " src="{{ review.book.image.url }}" alt="{{ review.book.title }}">
            {% else %}
            <img class="w-32 object-cover border-2" src="https://images-na.ssl-images-amazon.com/images/P/{{  review.book.isbn|isbn13_to_isbn10 }}.TZZZZZZZ.jpg" alt="">
              {% endif %}
            <div class="text-overlay absolute top-1 left-0">
              <h1 class="rounded-r bg-blue-400 w-8 text-center text-white font-bold ">{{ forloop.counter }}</h1>
            </div>
         
          </a>
          {% endfor %}
        </div>
      </div>
    </div>
 

   

  </div>
  <div id="blog-content" class="content-section" style="display:none;">
    
      <div class="md:w-2/3 mx-auto ">
        <div class="  p-2 ">
          {% for blog in blogs %}
          <a  href="{%url 'details_blog' blog.id %}" class="flex items-center block bg-gray-200   p-5 bg-white">
            <img src="{{ blog.creator.image.url }}" alt="Profile Image" class="w-8 h-8  object-cover border rounded-full mr-3 "> 
            
            <div class="">
              <h1 class="font-bold text-xl" >{{blog.title}}</h1>               
              <p class=" text-gray-600">{{ blog.creator }}</p>
            </div>
            {% comment %} <a href="{% url 'show_blog_tag' blog.tag.title %}" class="bg-green-500 px-2 py-1 rounded-full text-white">{{blog.tag}}</a> {% endcomment %}
          
          </a>
          <hr>
          {% endfor %}
        </div>  
      </div>
  </div>
  
  
  

  <script>
    function showSection(sectionId, selectedBtn) {
      // すべてのコンテンツセクションを非表示にする
      document.querySelectorAll('.content-section').forEach(function(section) {
          section.style.display = 'none';
      });
  
      // 指定されたセクションを表示する
      document.getElementById(sectionId).style.display = 'block';
  
      // ボタンのスタイルを更新
      updateButtonStyles(selectedBtn);
  }
  
  function updateButtonStyles(selectedBtn) {
      // すべてのボタンをループし、選択されていないボタンのスタイルを設定
      document.querySelectorAll('.flex button').forEach(function(btn) {
          btn.classList.remove('bg-gray-700', 'text-white');
          btn.classList.add('bg-gray-200', 'text-black');
      });
  
      // 選択されたボタンのスタイルを設定
      selectedBtn.classList.remove('bg-gray-200', 'text-black');
      selectedBtn.classList.add('bg-gray-700', 'text-white');
  }
  
  
    </script>
</div>


{% endblock %}
