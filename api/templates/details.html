
{% extends 'base.html' %}
{% load amazon_links %}
{% load rating_stars %}
{% block content %}
{% comment %} <div class="container mx-auto"> {% endcomment %}
  <div class="w-full mb-4 flex py-5 ">
    <!-- 本の詳細情報 -->
    <div class="flex items-center">
      <img class=" object-cover" src="{{ book.image.url }}" alt="{{ book.title }}">
      <div class="p-2">
        <h2 class="font-bold text-sm md:text-2xl">{{ book.title }}</h2>
        <p>{{ book.average_rating|stars }} {{book.average_rating}}</p>
        <p class="text-gray-700 text-base md:font-bold">{{ book.description|truncatechars:100}}</p>
        <div class="flex justify-between">
          <p class="text-gray-700 text-base ">著者: <span class="font-bold">{{book.author}}</span></p>
          <p class="text-gray-700 text-base ">{{book.published_at}}</p>
        </div>
        <div class='flex justify-center'>
          <a class='p-2 bg-orange-400 text-white rounded font-bold' href="{{ book.isbn|amazon_url }}" target="_blank" rel="noopener noreferrer">Amazonでの評価を見る</a>
        </div>
        
      </div>
      
    </div>
    
  </div>
  <!-- details.html -->
  <hr>
  <br>
<div class="reviews">
  {% for review in reviews %}
    <div class="review">
      <p> {{ review.user.name }}</p>     
      <p>{{ review.content }}</p>
      <p>評価: {{ review.rating|stars }} {{review.rating}}</p>
    </div>
  {% empty %}
    <p>この本にはまだレビューがありません。</p>
  {% endfor %}
</div>

{% comment %} </div> {% endcomment %}

{% endblock %}
